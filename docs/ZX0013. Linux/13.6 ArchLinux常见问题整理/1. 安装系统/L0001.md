# 注意事项

更新日期：2020-06-28

--------------------------------------

Arch Linux中有许许多多的坑等着我们去踩。在决定使用Arch Linux之前我们应该做好一定的心理准备。

最重要的事情先说三遍：

- 好好阅读Arch WIKI
- 好好阅读Arch WIKI
- 好好阅读Arch WIKI

几乎所有的问题都可以在Arch WIKI中找到答案。

## 1. Arch Linux安装完成后只有命令行界面

Arch Linux虽然支持安装各种各样的桌面，比如KDE、GNOME等。
但是...
要安装这些桌面到能够使用的程度绝非一天两天的事情，要做好长期使用命令行的打算。

## 2. Arch Linux完全依赖网络，无法离线安装

Arch Linux作为一个滚动更新的操作系统，最好能一直保持联网状态。

并且，安装时必须联网，网速慢的话安装体验也会非常差。

## 3. 记得为新系统安装wifi连接工具

因为Arch Linux在安装的时候必须联网。所以在Live系统里面自带了网络连接的工具。然而让人震精的是：装好的本机系统却默认没有安装网络连接工具。

当我们把系统安装到本机硬盘，退出Live系统重启后发现...

新的系统无法联网，因为没有工具。`wifi-menu、iw、wpa、nmcli`等连接网络的命令一概`not found`。

所以在Live系统中我们切换到本机环境中时，千万记得选择一个网络管理软件安装了。
否则，恐怕你只能再体验一遍在live环境用命令行一步一步连接网络的的快感了。

## 4. 系统安装完成后无法引导启动或不能联网时不要惊慌

Arch WIKI中没有提到的一点是，假如我们的系统安装完后无法启动、或者可以启动但不能联网时，我们可以使用Live系统进行修复。

### 4.1 启用Live修复的大概原理

我们U盘中的Live系统在初期一定要放在旁边备用。在Live系统中部署Arch Linux到机器本体时有一个非常特殊的步骤是：

`arch-chroot /mnt`

执行完这个操作后，相当于我们从Live系统中切换到了机器本体环境中。此时我们进行的各种配置和安装的软件会如实反映到最后的本机linux系统中去。

在这一步骤前面N步，有这样一个操作：

`mount /dev/sdxn /mnt`

/dev/sdxn为你用来安装Arch Linux的分区。(根目录`/`挂载在这里)

把这两步连起来就是：

```bash
mount /dev/sdxn /mnt    # 挂载本机Arch Linux系统的根目录"/"到Live系统的"/mnt"
arch-chroot /mnt        # 切换到"/mnt"，也就相当于从Live系统切换到了本机Arch Linux系统
```

※在本机Arch Linux系统中，可以执行`exit`命令来退回到Live系统中去。

没错，当我们以后重新插入U盘启动Live系统时，仍然可以执行这两个命令来切换到本机Arch Linux环境。
当然，我们也可以拿这个Live系统去修复其他机器上的Arch Linux系统。
这是一个很IMBA的特性。

### 4.2 修复启动引导

基本上按照WIKI上记载的安装步骤对一遍就可以解决问题。

### 4.3 连接网络

由于Live系统可以连接网络，切换到本机Arch Linux系统时也是连着网的。可以趁机往本机系统里面安装一些网络管理软件。这样我们重启后进入本机系统就可以连接网络了。

## 5. 安装好桌面后并不能马上可用

我们在命令行安装完KDE、GNOME桌面后，我们兴高采烈地重启电脑。

然而，我们发现这个所谓安装完成的桌面看起来像是Ubuntu或者其他发行版的残缺版本。几乎是一个完全无法使用的状态。

我们需要进行大量的配置工作，还要安装一些常用的软件才能让这个系统基本可用。或者可以放弃这种桌面环境，选择使用比较轻量级的窗口管理器，推荐awesomewm。

## 6. 系统安装完成后默认并不能显示中文或者日文

新装好的Arch Linux系统只能显示英文。当打开自带的FireFox浏览器检索一些教程的时候不要吃惊。
一些中文、日文的教程都会变成满篇方块。

此时从WIKI上找到`本地化`相关章节，安装中文和日文字体就好了。