# 2.1 设置键盘布局

更新日期：2020/6/28

----------------------------------------

以修改键盘布局为日文键盘为例。

## step1 查看当前键盘布局

`localectl`

大概输出如下：

```lua
System Locale: LANG=en_US.UTF-8
    VC Keymap: jp106
   X11 Layout: jp
```

※这是正确的日文键盘设置。

## step2 删除已有的键盘布局配置文件

为了防止配置文件中的各种微小错误，我们可以不在当前的配置文件中修改。而是删除当前的配置文件，重新生成全新的配置文件。

```lua
-- 命令如下(root权限)
rm /etc/vconsole.conf   -- 控制台中的键盘布局
rm /etc/X11/xorg.conf.d/00-keyboard.conf    -- 图形程序中的键盘布局
```

## step3 修改键盘布局

使用如下命令：

`localectl set-x11-keymap jp`

这条命令会一劳永逸地修改控制台和其它应用中的键盘布局。

## step4 重启电脑

分别在控制台和其他程序中验证键盘布局是否修改成功。
