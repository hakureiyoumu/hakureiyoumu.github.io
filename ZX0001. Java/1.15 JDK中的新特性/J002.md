# 1.15.2 JDK9

更新日期：2021-01-16

-------------------------------------

## 1. 概述

JDK9是一个非常关键的版本，从它之后的JDK与JDK1.8有很大的区别。它包含了海量的更新，但是语法修改不多，跟普通程序员的关系不大。

## 2. 关键特性：模块系统

所谓的模块到底是个什么样的东西？这个概念很难解释清除，我至今也是一脸迷茫。不过我们可以通过它的描述和特性来看个大概。

- 一种新型的Java程序组件。可以自我描述，包含一个程序和数据的集合。
- 增加了一个新的可选阶段`link`阶段。处于`编译`阶段和`运行`阶段之间的一个状态。
- 可以进一步打包成Jar文件，并包含自描述文件`module-info.class`。
- 引入了`.jmod`格式的文件用来表示这种模块打成的包。它与Jar包很像，除了它能包含本地代码和配置文件。
- 从JDK9后的JDK自身也使用了模块化。JDK中不同功能的东西被分到了不同的模块中。

## 3. 工具

No. | 特性 | 说明
:--|:--|:--
1 | jshell | 交互式命令行工具，如同大多数脚本语言一样，可以在命令行中直接执行短小的程序代码段。可以用来学习Java，或者快速尝试或验证一段Java程序的写法是否有效（不想新建一个工程的话）。
2 | jlink | 很关键的工具。可以将一系列模块连同他们依赖的模块一起打包做成一个运行时映像，由于只包含需要的模块，所以体积将大大减小。（经常拿来做迷你JRE运行时映像）

## 4. JAVA语言特性

No. | 特性 | 说明
:--|:--|:--
1 | 加强了`try-with-resources` | 如果引用的资源对象在try外面创建，并被定义为final的话，在try的声明语句中，可以只写一个变量名，精简了程序。下面是一个小例子：<br>`final MyClass a = new MyClass();`<br>`try (a) {`<br>`... ...`
2 | 加强了钻石操作符`<>` | 自动类型推断，现在适用于匿名类了。
3 | 支持在interface中定义私有方法 | 它存在的意义是什么呢？

## 5. JavaDoc工具增强

我从来没有使用过这个工具，也许应该尝试一下？

No. | 特性 | 说明
:--|:--|:--
1 | HTML5 | 现在可以生成HTML5的文档了。
2 | 增加文档搜索功能 | 生成的API文档中将包含一个搜索框，很实用。

## 6. GC(垃圾收集器)

No. | 特性 | 说明
:--|:--|:--
1 | 加强了G1垃圾收集器 | 全面加强。
2 | 使G1成为默认垃圾收集器 | 没什么好说的，意味着默认的JVM选项配置更好用了。

## 7. 自带类库修改

No. | 特性 | 说明
:--|:--|:--
1 | 增加了一种新的集合对象初始化方法 | 像这样：`List<String> strs = List.of("a", "b", "c");`<br>又精简了程序。
2 | 新的HTTP Client API | 目前是实验性质的特性。

## 8. 桌面应用修改

No. | 特性 | 说明
:--|:--|:--
1 | 多解析度图片支持 | 不明觉厉。
2 | JavaFX 控件加强 | 具体就不介绍了。
3 | 支持TIFF图像格式 | 我从来没有使用过这个格式的图像。
4 | 高分辨率屏幕支持 | 做的好。在系统设置了缩放倍数时尤其有用。
5 | Linux上的GTK3支持 | 支持更新版本的GTK了。

如果是打算做桌面程序，使用Java1.8之后的新版JDK，还是有很多好处的。
