
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>c. 图形库Graphics2D - 我的知识库</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.08040f6c.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Serif SC";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#c-graphics2d" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="我的知识库" class="md-header__button md-logo" aria-label="我的知识库" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            我的知识库
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              c. 图形库Graphics2D
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link md-tabs__link--active">
        编程技术
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../ZX0000.%20%E9%A6%96%E9%A1%B5/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/" class="md-tabs__link">
        软件应用
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../ZX0000.%20%E9%A6%96%E9%A1%B5/%E6%B8%B8%E6%88%8F%E5%A8%B1%E4%B9%90/" class="md-tabs__link">
        游戏娱乐
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="我的知识库" class="md-nav__button md-logo" aria-label="我的知识库" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    我的知识库
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          编程技术
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="编程技术" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          编程技术
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        欢迎来到我的知识库!
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2" type="checkbox" id="__nav_1_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_2">
          编程语言
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="编程语言" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_2">
          <span class="md-nav__icon md-icon"></span>
          编程语言
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1" type="checkbox" id="__nav_1_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_2_1">
          Java
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Java" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_2_1">
          <span class="md-nav__icon md-icon"></span>
          Java
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S015/" class="md-nav__link">
        A. Java新特性一览
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S002/" class="md-nav__link">
        B. 读取Excel文档
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1_3" type="checkbox" id="__nav_1_2_1_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_2_1_3">
          C. 轻松代码
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="C. 轻松代码" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_1_3">
          <span class="md-nav__icon md-icon"></span>
          C. 轻松代码
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S011/" class="md-nav__link">
        a. 集合类型的初始化
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S012/" class="md-nav__link">
        b. Json与POJO的转换
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S013/" class="md-nav__link">
        c. lambda表达式
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S014/" class="md-nav__link">
        d. lombok与样板式代码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S016/" class="md-nav__link">
        e. Guava工具类库
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S004/" class="md-nav__link">
        D. Servlet与WebAPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1_5" type="checkbox" id="__nav_1_2_1_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_2_1_5">
          E. 源码学习
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="E. 源码学习" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_1_5">
          <span class="md-nav__icon md-icon"></span>
          E. 源码学习
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S001/" class="md-nav__link">
        a. String类
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S005/" class="md-nav__link">
        b. ArrayList类
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_1_6" type="checkbox" id="__nav_1_2_1_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_2_1_6">
          F. GUI程序
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="F. GUI程序" data-md-level="4">
        <label class="md-nav__title" for="__nav_1_2_1_6">
          <span class="md-nav__icon md-icon"></span>
          F. GUI程序
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../J001/" class="md-nav__link">
        a. Swing基础
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../J002/" class="md-nav__link">
        b. 将字体文件嵌入程序内
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          c. 图形库Graphics2D
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        c. 图形库Graphics2D
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#c-graphics2d" class="md-nav__link">
    c. 图形库Graphics2D
  </a>
  
    <nav class="md-nav" aria-label="c. 图形库Graphics2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1.   概述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-graphics2d" class="md-nav__link">
    2. 获取Graphics2D对象
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-graphics2d" class="md-nav__link">
    3. Graphics2D对象的属性
  </a>
  
    <nav class="md-nav" aria-label="3. Graphics2D对象的属性">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    3.1 颜色
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    3.2 画笔属性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    3.3 混合模式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_1" class="md-nav__link">
    3.3 裁剪区域
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_2" class="md-nav__link">
    3.3 坐标变换
  </a>
  
    <nav class="md-nav" aria-label="3.3 坐标变换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    3.3.1 平移变换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    3.3.2 缩放变换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333" class="md-nav__link">
    3.3.3 旋转变换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334" class="md-nav__link">
    3.3.4 组合变换
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    3.4 渲染质量
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35" class="md-nav__link">
    3.5 字体
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    4. 绘制
  </a>
  
    <nav class="md-nav" aria-label="4. 绘制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    4.1 几何图形
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    4.2 文字
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    4.3 图片
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../J004/" class="md-nav__link">
        d. 正确的重绘窗口
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../J005/" class="md-nav__link">
        e. 监听鼠标事件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../J006/" class="md-nav__link">
        f. 监听窗口大小改变事件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../J007/" class="md-nav__link">
        g. 克隆图像
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S007/" class="md-nav__link">
        G. 打包成可执行程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S008/" class="md-nav__link">
        H. 保证顺序的事件处理器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S009/" class="md-nav__link">
        I. 加载资源文件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S010/" class="md-nav__link">
        J. 常用数学函数
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3" type="checkbox" id="__nav_1_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_3">
          脚本语言
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="脚本语言" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_3">
          <span class="md-nav__icon md-icon"></span>
          脚本语言
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0015.%20%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/S001/" class="md-nav__link">
        lua脚本语言
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0015.%20%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/S002/" class="md-nav__link">
        在Java中使用脚本语言
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" type="checkbox" id="__nav_1_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_4">
          框架
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="框架" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          框架
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0005.%20%E6%A1%86%E6%9E%B6/S001/" class="md-nav__link">
        Java - JSF
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0006.%20%E6%95%B0%E6%8D%AE%E5%BA%93/S001/" class="md-nav__link">
        Java - Nutz
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_5" type="checkbox" id="__nav_1_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_5">
          数据库
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="数据库" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_5">
          <span class="md-nav__icon md-icon"></span>
          数据库
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0006.%20%E6%95%B0%E6%8D%AE%E5%BA%93/S002/" class="md-nav__link">
        PostgreSQL的安装与配置
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_6" type="checkbox" id="__nav_1_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_6">
          Web技术
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Web技术" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_6">
          <span class="md-nav__icon md-icon"></span>
          Web技术
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0007.%20WebServer/S001/" class="md-nav__link">
        Tomcat
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0007.%20WebServer/S002/" class="md-nav__link">
        NginX基础
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0010.%20%E5%89%8D%E7%AB%AF/S001/" class="md-nav__link">
        使用FlexBox进行页面布局
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_7" type="checkbox" id="__nav_1_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_7">
          辅助工具
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="辅助工具" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_7">
          <span class="md-nav__icon md-icon"></span>
          辅助工具
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_7_1" type="checkbox" id="__nav_1_7_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_7_1">
          Java - Maven
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Java - Maven" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_7_1">
          <span class="md-nav__icon md-icon"></span>
          Java - Maven
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0009.%20%E5%B7%A5%E5%85%B7/S002/" class="md-nav__link">
        A. Maven基础知识
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S003/" class="md-nav__link">
        B. Maven的约定文件夹
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S017/" class="md-nav__link">
        C. Web工程的初始错误
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0009.%20%E5%B7%A5%E5%85%B7/S003/" class="md-nav__link">
        通配符与正则表达式
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_8" type="checkbox" id="__nav_1_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_8">
          第三方库
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="第三方库" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_8">
          <span class="md-nav__icon md-icon"></span>
          第三方库
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0021.%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E5%8C%85/S001/" class="md-nav__link">
        Java - Log4j输出日志
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0021.%20%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E5%8C%85/S002/" class="md-nav__link">
        mXparser代数运算
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_9" type="checkbox" id="__nav_1_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_9">
          游戏编程
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="游戏编程" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_9">
          <span class="md-nav__icon md-icon"></span>
          游戏编程
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0030.%20%E6%B8%B8%E6%88%8F/S003/" class="md-nav__link">
        简单的游戏循环
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_10" type="checkbox" id="__nav_1_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_10">
          夯实基础
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="夯实基础" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_10">
          <span class="md-nav__icon md-icon"></span>
          夯实基础
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_10_1" type="checkbox" id="__nav_1_10_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_10_1">
          汇编语言
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="汇编语言" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_10_1">
          <span class="md-nav__icon md-icon"></span>
          汇编语言
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0027.%20%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/S001/" class="md-nav__link">
        A. 总线与内存地址空间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0027.%20%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/S002/" class="md-nav__link">
        B. 使用Debug学习汇编
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_10_2" type="checkbox" id="__nav_1_10_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_10_2">
          数据结构与算法
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="数据结构与算法" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_10_2">
          <span class="md-nav__icon md-icon"></span>
          数据结构与算法
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S001/" class="md-nav__link">
        A. 快速排序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S002/" class="md-nav__link">
        B. 堆排序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S003/" class="md-nav__link">
        C. 归并排序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S004/" class="md-nav__link">
        D. 散列表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S005/" class="md-nav__link">
        E. 红黑树（1）- 基本概念
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S006/" class="md-nav__link">
        F. 红黑树（2）- 基本原理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S007/" class="md-nav__link">
        G. 红黑树（3）绘制红黑树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S008/" class="md-nav__link">
        H. 红黑树（4）插入I
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S009/" class="md-nav__link">
        I. 红黑树（5）插入II
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S010/" class="md-nav__link">
        J. 红黑树（6）插入III
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S011/" class="md-nav__link">
        K. 红黑树（7）删除I
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0017.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/S012/" class="md-nav__link">
        L. 红黑树（8）删除II
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          软件应用
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="软件应用" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          软件应用
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0000.%20%E9%A6%96%E9%A1%B5/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/" class="md-nav__link">
        介绍各种有用的软件及工具!
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          工具软件
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="工具软件" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          工具软件
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0009.%20%E5%B7%A5%E5%85%B7/S001/" class="md-nav__link">
        使用MarkDown编写文章
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0009.%20%E5%B7%A5%E5%85%B7/S004/" class="md-nav__link">
        使用MkDocs生成文档
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0009.%20%E5%B7%A5%E5%85%B7/S005/" class="md-nav__link">
        GitHub的使用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0028.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%BF%E7%94%A8/S002/" class="md-nav__link">
        文件夹同步
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_5" type="checkbox" id="__nav_2_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2_5">
          PowerShell
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="PowerShell" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_5">
          <span class="md-nav__icon md-icon"></span>
          PowerShell
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0014.%20PowerShell/S001/" class="md-nav__link">
        A. 命令帮助
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0014.%20PowerShell/S002/" class="md-nav__link">
        B. 类型与管道
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0014.%20PowerShell/S003/" class="md-nav__link">
        C. 检索与过滤结果
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0014.%20PowerShell/S004/" class="md-nav__link">
        D. 作为计算器使用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0014.%20PowerShell/S005/" class="md-nav__link">
        E. 操作符与条件表达式
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0014.%20PowerShell/S006/" class="md-nav__link">
        F. 当前目录
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0014.%20PowerShell/S007/" class="md-nav__link">
        G. 变量的使用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0014.%20PowerShell/S008/" class="md-nav__link">
        H. 环境变量的使用
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          操作系统
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="操作系统" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          操作系统
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1" type="checkbox" id="__nav_2_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_3_1">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/S001/" class="md-nav__link">
        A. 基本命令参考
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/S002/" class="md-nav__link">
        B. 文件目录结构
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/S003/" class="md-nav__link">
        C. Bash/Shell编程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/S004/" class="md-nav__link">
        D. 自动执行脚本文件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/S005/" class="md-nav__link">
        E. 服务管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/S009/" class="md-nav__link">
        F. 环境变量
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1_7" type="checkbox" id="__nav_2_3_1_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1_7">
          G. Arch Linux专区
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="G. Arch Linux专区" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_3_1_7">
          <span class="md-nav__icon md-icon"></span>
          G. Arch Linux专区
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/S007/" class="md-nav__link">
        a. 安装过程梳理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/S008/" class="md-nav__link">
        b. 系统维护与排除问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/S010/" class="md-nav__link">
        c. 桌面环境常用软件
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1_7_4" type="checkbox" id="__nav_2_3_1_7_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1_7_4">
          d. 常见问题
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="d. 常见问题" data-md-level="5">
        <label class="md-nav__title" for="__nav_2_3_1_7_4">
          <span class="md-nav__icon md-icon"></span>
          d. 常见问题
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1_7_4_1" type="checkbox" id="__nav_2_3_1_7_4_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1_7_4_1">
          I. 安装系统
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="I. 安装系统" data-md-level="6">
        <label class="md-nav__title" for="__nav_2_3_1_7_4_1">
          <span class="md-nav__icon md-icon"></span>
          I. 安装系统
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/1.%20%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/L0001/" class="md-nav__link">
        注意事项
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/1.%20%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/L0002/" class="md-nav__link">
        连接wifi
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1_7_4_2" type="checkbox" id="__nav_2_3_1_7_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1_7_4_2">
          II. 本地化
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="II. 本地化" data-md-level="6">
        <label class="md-nav__title" for="__nav_2_3_1_7_4_2">
          <span class="md-nav__icon md-icon"></span>
          II. 本地化
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/2.%20%E6%9C%AC%E5%9C%B0%E5%8C%96/L0001/" class="md-nav__link">
        设置键盘布局
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/2.%20%E6%9C%AC%E5%9C%B0%E5%8C%96/L0002/" class="md-nav__link">
        安装中日文输入法
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1_7_4_3" type="checkbox" id="__nav_2_3_1_7_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1_7_4_3">
          III. 桌面环境软件
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="III. 桌面环境软件" data-md-level="6">
        <label class="md-nav__title" for="__nav_2_3_1_7_4_3">
          <span class="md-nav__icon md-icon"></span>
          III. 桌面环境软件
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/3.%20%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E8%BD%AF%E4%BB%B6/L0001/" class="md-nav__link">
        文件管理器dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/3.%20%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E8%BD%AF%E4%BB%B6/L0004/" class="md-nav__link">
        添加快捷键来调节音量
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1_7_4_4" type="checkbox" id="__nav_2_3_1_7_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1_7_4_4">
          IV. 软件管理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IV. 软件管理" data-md-level="6">
        <label class="md-nav__title" for="__nav_2_3_1_7_4_4">
          <span class="md-nav__icon md-icon"></span>
          IV. 软件管理
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/4.%20%E8%BD%AF%E4%BB%B6%E7%AE%A1%E7%90%86/L0001/" class="md-nav__link">
        安装AUR库中的软件
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1_7_4_5" type="checkbox" id="__nav_2_3_1_7_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1_7_4_5">
          V. 使用awesome
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="V. 使用awesome" data-md-level="6">
        <label class="md-nav__title" for="__nav_2_3_1_7_4_5">
          <span class="md-nav__icon md-icon"></span>
          V. 使用awesome
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/2.%20%E6%9C%AC%E5%9C%B0%E5%8C%96/L0003/" class="md-nav__link">
        输入法服务开机启动
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/3.%20%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E8%BD%AF%E4%BB%B6/L0002/" class="md-nav__link">
        设置系统快捷键
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/3.%20%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E8%BD%AF%E4%BB%B6/L0003/" class="md-nav__link">
        在系统托盘处显示音量
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_1_7_4_6" type="checkbox" id="__nav_2_3_1_7_4_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_1_7_4_6">
          VI. 常见问题
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="VI. 常见问题" data-md-level="6">
        <label class="md-nav__title" for="__nav_2_3_1_7_4_6">
          <span class="md-nav__icon md-icon"></span>
          VI. 常见问题
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/5.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/L0001/" class="md-nav__link">
        访问Windows分区中的文件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/5.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/L0002/" class="md-nav__link">
        Xorg日志：fbdev not found
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/5.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/L0003/" class="md-nav__link">
        基于QT的程序显示有问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/5.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/L0004/" class="md-nav__link">
        系统没有声音
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0013.%20Linux/13.6%20ArchLinux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/5.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/L0005/" class="md-nav__link">
        新用户无法执行sudo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_2" type="checkbox" id="__nav_2_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3_2">
          Windows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Windows" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_3_2">
          <span class="md-nav__icon md-icon"></span>
          Windows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0028.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%BF%E7%94%A8/S001/" class="md-nav__link">
        A. 修改键盘布局为日语键盘
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0028.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%BF%E7%94%A8/S003/" class="md-nav__link">
        B. 使用出入站规则
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0028.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%BF%E7%94%A8/S004/" class="md-nav__link">
        C. 新的控制台终端
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0028.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%BF%E7%94%A8/S005/" class="md-nav__link">
        D. 文件预览
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0028.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%BF%E7%94%A8/S006/" class="md-nav__link">
        E. 文件搜索
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          Office
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Office" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Office
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0016.%20Microsoft%20Office/S001/" class="md-nav__link">
        VBA基础知识
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          游戏娱乐
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="游戏娱乐" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          游戏娱乐
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0000.%20%E9%A6%96%E9%A1%B5/%E6%B8%B8%E6%88%8F%E5%A8%B1%E4%B9%90/" class="md-nav__link">
        记录游戏与娱乐相关的知识!
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          星际争霸II
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="星际争霸II" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          星际争霸II
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0030.%20%E6%B8%B8%E6%88%8F/S001/" class="md-nav__link">
        有趣的台词
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ZX0030.%20%E6%B8%B8%E6%88%8F/S002/" class="md-nav__link">
        查看合作单位语音
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#c-graphics2d" class="md-nav__link">
    c. 图形库Graphics2D
  </a>
  
    <nav class="md-nav" aria-label="c. 图形库Graphics2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1.   概述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-graphics2d" class="md-nav__link">
    2. 获取Graphics2D对象
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-graphics2d" class="md-nav__link">
    3. Graphics2D对象的属性
  </a>
  
    <nav class="md-nav" aria-label="3. Graphics2D对象的属性">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    3.1 颜色
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    3.2 画笔属性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    3.3 混合模式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_1" class="md-nav__link">
    3.3 裁剪区域
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_2" class="md-nav__link">
    3.3 坐标变换
  </a>
  
    <nav class="md-nav" aria-label="3.3 坐标变换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    3.3.1 平移变换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    3.3.2 缩放变换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333" class="md-nav__link">
    3.3.3 旋转变换
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334" class="md-nav__link">
    3.3.4 组合变换
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    3.4 渲染质量
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35" class="md-nav__link">
    3.5 字体
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    4. 绘制
  </a>
  
    <nav class="md-nav" aria-label="4. 绘制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    4.1 几何图形
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    4.2 文字
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    4.3 图片
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>c. 图形库Graphics2D</h1>

<h2 id="c-graphics2d">c. 图形库Graphics2D</h2>
<p>更新日期: 2021-01-09</p>
<hr />
<h3 id="1">1.   概述</h3>
<p>当我们需要处理图片，或者编写游戏时，就可以使用Java Swing中的图形包<code>Graphics2D</code>了。这套图形系统的内容还是比较丰富的。</p>
<p>但要注意的是，它绘制的速度不是很快，用它来写稍大一点的游戏，就会很卡。
在这篇文章中我将总结Graphics2D的用法，以便以后随时查看。
但跟图形绘制有关的主题是非常多的。我将只挑选出感兴趣的来学习：</p>
<ul>
<li>获取Graphics2D对象</li>
<li>Graphics2D对象的属性<ul>
<li>颜色</li>
<li>画笔属性</li>
<li>混合模式</li>
<li>裁剪区域</li>
<li>坐标变换</li>
<li>渲染质量</li>
<li>字体</li>
</ul>
</li>
<li>绘制<ul>
<li>几何图形</li>
<li>文字</li>
<li>图片</li>
</ul>
</li>
</ul>
<h3 id="2-graphics2d">2. 获取Graphics2D对象</h3>
<p>Swing程序中看的见的东西都是用Graphics2D画出来的。比如窗口里的各种控件：按钮、单选按钮、滚动条等。
这些组件都继承自Swing里面的<code>JComponent</code>类。这个类提供了一个绘制组件的方法：<code>paintComponent</code>，如果想自己绘制控件，就可以覆盖这个方法。注意不要使用<code>paint</code>方法，<code>paintComponent</code>自动提供了双缓冲机制，用起来更舒服。</p>
<p>这个方法将给我们传递一个<code>Graphics2D</code>参数进来。</p>
<p>下面我将创建一个文本区域，来演示一下如何获取Graphics2D，并使用它来在这个文本区域上进行绘制。</p>
<div class="admonition example">
<p class="admonition-title">获取Graphics2D</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">// 自定义一个类来扩展Swing控件</span><span class="w"></span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyText</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">JTextArea</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"></span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span><span class="w"> </span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">        </span><span class="c1">// 取得Graphics2D对象</span><span class="w"></span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">        </span><span class="n">Graphics2D</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">        </span><span class="c1">// 绘制文字</span><span class="w"></span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">        </span><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">.</span><span class="na">deriveFont</span><span class="p">(</span><span class="mf">48.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">        </span><span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">        </span><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;这是按钮上的文字!&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">        </span><span class="c1">// 绘制矩形</span><span class="w"></span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">        </span><span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">        </span><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="c1">// 创建并显示窗口</span><span class="w"></span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">displayWindow</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">    </span><span class="c1">// 创建JFrame对象</span><span class="w"></span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">    </span><span class="n">JFrame</span><span class="w"> </span><span class="n">jFrame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JFrame</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="w">    </span><span class="n">XXXX</span><span class="w"> </span><span class="n">其他代码</span><span class="p">...</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="w">    </span><span class="c1">// 添加一个文本区域控件</span><span class="w"></span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">textArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyText</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="w">    </span><span class="n">textArea</span><span class="p">.</span><span class="na">setPreferredSize</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Dimension</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="w">    </span><span class="n">textArea</span><span class="p">.</span><span class="na">setBorder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">LineBorder</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="w">    </span><span class="n">textArea</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;这是一个文本框\n这是第二行文字\n\n\n\n\n这是不知道第多少行文字&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="w">    </span><span class="n">jPanel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">textArea</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a><span class="w">    </span><span class="c1">// 显示窗口</span><span class="w"></span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="w">    </span><span class="n">jFrame</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
<p>可以看到，通过强制类型转换，得到了Graphics2D对象。然后，使用这个对象绘制了文字和矩形。下面是运行效果：
<img alt="文字区域" src="../J003.files/textArea.png" /></p>
<p>其他所有Swing控件，都是采用同样的方法。我们在做图形绘制程序时，最常用的是在<code>JPanel</code>控件上进行绘制。
后面的例子中，我默认都是在<code>JPanel</code>中进行绘制。</p>
<p>除了在看的见的画板上绘图外，还有另外一种方式。叫做在离屏表面中绘图。
所谓离屏表面，就是指不直接显示在画面上，只存在于内存中的画板。这个技术常用于双缓冲绘图。</p>
<p>在Java中使用<code>BufferedImage</code>来表示离屏表面，可以从这个对象中获取Graphics2D对象。
还是看代码：</p>
<div class="admonition example">
<p class="admonition-title">离屏表面</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">// 创建一个1920 X 1080大小的离屏表面</span><span class="w"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">BufferedImage</span><span class="w"> </span><span class="n">offScreenSurface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedImage</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span><span class="w"> </span><span class="mi">1080</span><span class="p">,</span><span class="w"> </span><span class="n">BufferedImage</span><span class="p">.</span><span class="na">TYPE_4BYTE_ABGR</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1">// 获取Graphics2D对象</span><span class="w"></span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="n">Graphics2D</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">offScreenSurface</span><span class="p">.</span><span class="na">getGraphics</span><span class="p">();</span><span class="w"></span>
</code></pre></div>
</div>
<h3 id="3-graphics2d">3. Graphics2D对象的属性</h3>
<p>通过调整Graphics2D对象的属性，我们可以控制绘制时的各种效果。这里就只学习一下常用的几个比较重要的属性。
既然是属性，就可以通过<code>get</code>和<code>set</code>方法来取得当前属性和设定。后面就不再赘述，介绍的重点是属性的值的含义，以及设定不同的值会有什么效果。</p>
<h4 id="31">3.1 颜色</h4>
<p>颜色的重要性不用多说，绘制几何图形和文字的时候会生效。Swing中使用<code>Paint</code>这个类来表示颜色。</p>
<p>在程序中，创建颜色可以直接使用预定义的常用颜色常量，也可以通过RGBA来指定。</p>
<p>直接看一看代码：</p>
<div class="admonition example">
<p class="admonition-title">创建颜色</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">// 设定各种颜色</span><span class="w"></span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Color</span><span class="p">(</span><span class="mh">0XFF00FF00</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">128</span><span class="p">));</span><span class="w"></span>
</code></pre></div>
</div>
<p>这个属性设定后的效果不用多说。</p>
<h4 id="32">3.2 画笔属性</h4>
<p>画笔属性会直接影响几何形状绘制时的效果。Swing中使用<code>Stroke</code>这个接口来表示，而<code>BasicStroke</code>这个类实现了此接口。它主要包含如下几个子属性：</p>
<table>
<thead>
<tr>
<th align="left">No.</th>
<th align="left">ID</th>
<th align="left">属性名</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">1</td>
<td align="left">width</td>
<td align="left">画笔宽度</td>
<td align="left">画笔的粗细。直接影响绘制图形时线条的粗细。</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">end caps</td>
<td align="left">两端装饰</td>
<td align="left">线条两端的样式。具体的效果下面将会演示。</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">line joins</td>
<td align="left">折角装饰</td>
<td align="left">主要影响多边形折角处的形状。</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">miter limit</td>
<td align="left">折角裁剪阈值</td>
<td align="left">与No.3有关，绘制多边形时有效果，这里不做介绍了。</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">dash attributes</td>
<td align="left">虚线样式</td>
<td align="left">用于绘制虚线线条。</td>
</tr>
</tbody>
</table>
<p>我们将逐个演示各个属性有什么效果，这样介绍起来更直观一点。</p>
<div class="admonition example">
<p class="admonition-title">画笔宽度</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// 宽度依次为1,2,4,8,16,32</span><span class="w"></span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">1.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">2.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">4.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">8.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">16.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">32.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="宽度效果" src="../J003.files/width.png" /></p>
</div>
<p>两端装饰只有在线条比较粗的时候才能看的清除，所以我直接用一个比较粗的画笔来绘制。</p>
<div class="admonition example">
<p class="admonition-title">两端装饰</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">32.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_BUTT</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_BEVEL</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;无装饰&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">110</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">32.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_ROUND</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_BEVEL</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;圆角装饰&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">210</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">32.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_SQUARE</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_BEVEL</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;方形装饰&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">310</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="宽度效果" src="../J003.files/style.png" /></p>
</div>
<p>接下来是折角装饰，与两端装饰类似，只是应用的部位不一样。</p>
<div class="admonition example">
<p class="admonition-title">折角装饰</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">32.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_BUTT</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_BEVEL</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;直线装饰&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">110</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">32.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_BUTT</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_ROUND</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">GREEN</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;圆角装饰&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">210</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">32.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_BUTT</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_MITER</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;交点闭合装饰&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">310</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="宽度效果" src="../J003.files/style2.png" /></p>
</div>
<p>最后是虚线样式，这个可以用来生成各种样式的虚线。通过下面的参数来定义：</p>
<ul>
<li>虚线模式数组</li>
<li>虚线第一段开始位置</li>
</ul>
<p>虚线模式数组是一个包含偶数个数值的数组。比如：[20, 8, 10, 8]。它表示的含义是：</p>
<ol>
<li>绘制一个20长度的线段</li>
<li>空出8长度的距离</li>
<li>绘制一个10长度的线段</li>
<li>空出8长度的距离</li>
<li>从1.开始重复绘制</li>
</ol>
<p>虚线第一段开始位置顾名思义，就是说第一个线段从哪里开始绘制。比如还是上面的例子，我指定开始位置为10时。
由于第一段线段长为20，所以第一段从一半的位置开始绘制。</p>
<p>具体的用法还是直接看例子演示。</p>
<div class="admonition example">
<p class="admonition-title">虚线样式</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">8.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_BUTT</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_MITER</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">},</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;虚线&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">110</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">8.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_BUTT</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_MITER</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">},</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;虚线(从10开始)&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">210</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="宽度效果" src="../J003.files/dash.png" /></p>
</div>
<p>同时，虚线的每个小线段的端点都受两端装饰和折角装饰的影响。看下面的演示。</p>
<div class="admonition example">
<p class="admonition-title">虚线的线段装饰</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">8.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_BUTT</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_ROUND</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">},</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;两端无装饰，折角圆角装饰&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">110</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">(</span><span class="mf">8.0f</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">CAP_ROUND</span><span class="p">,</span><span class="w"> </span><span class="n">BasicStroke</span><span class="p">.</span><span class="na">JOIN_MITER</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">},</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;两端圆角装饰，折角闭合装饰&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">310</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">340</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="宽度效果" src="../J003.files/dash2.png" /></p>
</div>
<h4 id="33">3.3 混合模式</h4>
<p>混合模式，也叫颜色混合模式。所谓混合，是指在进行绘制时，将要绘制的颜色与画板上已有的颜色进行混合。
其实和现实世界中的画画有点类似。</p>
<p>比如：</p>
<ul>
<li>我用覆盖性强的丙烯颜料涂在画布上，则画布上本来的颜料都会被盖住，只呈现我新涂的颜色。</li>
<li>我用透明的水彩颜料涂在画布上，则画布上本身的颜料不会被完全覆盖，会呈现出一种半透明效果。</li>
</ul>
<p>在使用程序绘图时，有类似的概念，而且有很多很多种混合模式。具体可以参考Java官方文档：</p>
<p><a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/java/awt/AlphaComposite.html">混合模式官方文档</a></p>
<p>这部分的算法相当复杂，我们不需要关心具体的细节。我们最经常使用的混合模式只有一种，就是<code>SRC_OVER</code>模式。这个模式下会按照<code>Alpha</code>通道的值对源和目标的颜色做一个混合。</p>
<ul>
<li><code>Alpha</code>值为1，则源颜色覆盖目标颜色，也即是我们提到的覆盖性强的丙烯颜料的效果。</li>
<li><code>Alpha</code>值小于1，则源颜色混合目标颜色，也即是我们提到的透明水彩颜料的效果。</li>
<li><code>Alpha</code>值越小，颜料也就越透明。</li>
</ul>
<p>直接看例子：</p>
<div class="admonition example">
<p class="admonition-title">混合模式</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">// 绘制一个蓝色的矩形</span><span class="w"></span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">setComposite</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">SRC_OVER</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c1">// 在蓝色矩形上，绘制一个绿色的矩形，透明度为50%</span><span class="w"></span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">setComposite</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">SRC_OVER</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">GREEN</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="c1">// 在绿色矩形上，绘制一个黄色的矩形，透明度为30%</span><span class="w"></span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="n">g2</span><span class="p">.</span><span class="na">setComposite</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">SRC_OVER</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">YELLOW</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="混合模式" src="../J003.files/mix.png" /></p>
</div>
<h4 id="33_1">3.3 裁剪区域</h4>
<p>所谓裁剪区域，就是指设定一个区域，所有的绘图只在这个区域范围内是有效的。超出这个区域的部分不会进行绘制。</p>
<p>下面这个例子中，我先后创建了一个矩形和一个圆形的裁剪区域。他们相交的部分是最终的裁剪区域。</p>
<div class="admonition example">
<p class="admonition-title">裁剪区域</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">// 绘制裁剪区域图形的框线以易于辨认</span><span class="w"></span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawOval</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="c1">// 创建裁剪区域</span><span class="w"></span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">clipRect</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="n">g2</span><span class="p">.</span><span class="na">clip</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Ellipse2D</span><span class="p">.</span><span class="na">Float</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c1">// 绘制一个蓝色的矩形</span><span class="w"></span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="n">g2</span><span class="p">.</span><span class="na">setComposite</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">SRC_OVER</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="c1">// 在蓝色矩形上，绘制一个绿色的矩形，透明度为50%</span><span class="w"></span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="n">g2</span><span class="p">.</span><span class="na">setComposite</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">SRC_OVER</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">GREEN</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="c1">// 在绿色矩形上，绘制一个黄色的矩形，透明度为30%</span><span class="w"></span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="n">g2</span><span class="p">.</span><span class="na">setComposite</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="n">AlphaComposite</span><span class="p">.</span><span class="na">SRC_OVER</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">YELLOW</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="混合模式" src="../J003.files/clip.png" /></p>
</div>
<p>使用<code>clip</code>系列函数时，默认是拿现有的裁剪区域与新的裁剪区域相交，得到一个更小的裁剪区域。
如果要想直接设定当前裁剪区域，请使用<code>setClip</code>系列函数，这将无视当前裁剪区域，直接将新的裁剪区域设定为新的当前裁剪区域。</p>
<h4 id="33_2">3.3 坐标变换</h4>
<p>坐标变换是一个相对来说比较复杂的东西，我们仍然是只学习最常用的那一部分。</p>
<p>基础的变换主要分为3大类，想必我们在数学课上都已经学过了。也就是：</p>
<ul>
<li>平移变换</li>
<li>缩放变换</li>
<li>旋转变换</li>
</ul>
<p>同时，变换之间也可以相互组合，形成组合变换。我们在学习矩阵运算的时候应该也大概学习过。
而在程序中，这些变换确实也是通过矩阵运算来实现的。</p>
<p>Swing中使用<code>AffineTransform</code>来表示变换矩阵。这也是Graphics2D的其中一个属性。所有的三种变换都是通过操作这个属性来实现的。</p>
<h5 id="331">3.3.1 平移变换</h5>
<p>最简单的一种变换，只需指定一个x和y的偏移量就可以了。直接看例子。</p>
<div class="admonition example">
<p class="admonition-title">平移变换</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;原来的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="c1">// 取得当前变换矩阵</span><span class="w"></span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="kd">var</span><span class="w"> </span><span class="n">oldTransform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getTransform</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="c1">// 进行平移变换</span><span class="w"></span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">translate</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">90</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;变换后的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="c1">// 恢复原来的变换矩阵</span><span class="w"></span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="n">g2</span><span class="p">.</span><span class="na">setTransform</span><span class="p">(</span><span class="n">oldTransform</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="平移变换效果" src="../J003.files/translate.png" /></p>
</div>
<h5 id="332">3.3.2 缩放变换</h5>
<p>指定一个x和y的缩放倍数就可以了，将会以(0, 0)为原点进行缩放。还是看例子。</p>
<div class="admonition example">
<p class="admonition-title">缩放变换</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;原来的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="c1">// 取得当前变换矩阵</span><span class="w"></span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="kd">var</span><span class="w"> </span><span class="n">oldTransform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getTransform</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="c1">// 进行缩放变换</span><span class="w"></span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="n">g2</span><span class="p">.</span><span class="na">scale</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;变换后的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="c1">// 恢复原来的变换矩阵</span><span class="w"></span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="n">g2</span><span class="p">.</span><span class="na">setTransform</span><span class="p">(</span><span class="n">oldTransform</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="缩放变换效果" src="../J003.files/scale.png" /></p>
</div>
<h5 id="333">3.3.3 旋转变换</h5>
<p>通常是指定一个旋转的中心点，再指定一个旋转角度(顺时针)。
由于可以指定的方式比较多，这里只演示指定中心点的坐标和度数时的情形。</p>
<div class="admonition example">
<p class="admonition-title">旋转</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">Rectangle</span><span class="w"> </span><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">550</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;原来的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">35</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">width</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">height</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="c1">// 取得当前变换矩阵</span><span class="w"></span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="kd">var</span><span class="w"> </span><span class="n">oldTransform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getTransform</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c1">// 绘制旋转路径的圆</span><span class="w"></span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawOval</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="c1">// 旋转60度</span><span class="w"></span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="n">g2</span><span class="p">.</span><span class="na">rotate</span><span class="p">(</span><span class="o">-</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;旋转后的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">35</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">width</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">height</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="c1">// 再旋转60度</span><span class="w"></span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="n">g2</span><span class="p">.</span><span class="na">rotate</span><span class="p">(</span><span class="o">-</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;二次旋转后的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">35</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">width</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">height</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="c1">// 恢复原来的变换矩阵</span><span class="w"></span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="n">g2</span><span class="p">.</span><span class="na">setTransform</span><span class="p">(</span><span class="n">oldTransform</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="缩放变换效果" src="../J003.files/turn.png" /></p>
</div>
<p>在旋转的时候，有一种特殊的旋转，就是整90度旋转。这种旋转明显不需要进行复杂的矩阵运算，为此专门提供了一系列函数用来进行这种操作。另外即使不明确使用这个系列的函数，仍然使用普通的函数，实际在旋转的过程中，会判断角度是否非常接近整90度，如果是的话，会自动调用这个系列的函数。</p>
<p>来看一下例子吧：</p>
<div class="admonition example">
<p class="admonition-title">整90度旋转</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">Rectangle</span><span class="w"> </span><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">550</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">drawStringLeftTop</span><span class="p">(</span><span class="n">g2</span><span class="p">,</span><span class="s">&quot;原来的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">width</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">height</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="c1">// 取得当前变换矩阵</span><span class="w"></span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="kd">var</span><span class="w"> </span><span class="n">oldTransform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getTransform</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="c1">// 绘制旋转路径的圆</span><span class="w"></span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawOval</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="c1">// 旋转90度</span><span class="w"></span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="n">g2</span><span class="p">.</span><span class="na">transform</span><span class="p">(</span><span class="n">AffineTransform</span><span class="p">.</span><span class="na">getQuadrantRotateInstance</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="n">drawStringLeftTop</span><span class="p">(</span><span class="n">g2</span><span class="p">,</span><span class="s">&quot;旋转90度后的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">width</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">height</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="c1">// 再旋转90度</span><span class="w"></span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="n">g2</span><span class="p">.</span><span class="na">transform</span><span class="p">(</span><span class="n">AffineTransform</span><span class="p">.</span><span class="na">getQuadrantRotateInstance</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="n">drawStringLeftTop</span><span class="p">(</span><span class="n">g2</span><span class="p">,</span><span class="s">&quot;再次旋转90度后的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">width</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">height</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="c1">// 再旋转90度</span><span class="w"></span>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="n">g2</span><span class="p">.</span><span class="na">setPaint</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="n">g2</span><span class="p">.</span><span class="na">transform</span><span class="p">(</span><span class="n">AffineTransform</span><span class="p">.</span><span class="na">getQuadrantRotateInstance</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="n">drawStringLeftTop</span><span class="p">(</span><span class="n">g2</span><span class="p">,</span><span class="s">&quot;再次旋转90度后的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">width</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">height</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a>
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="c1">// 恢复原来的变换矩阵</span><span class="w"></span>
<a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a><span class="n">g2</span><span class="p">.</span><span class="na">setTransform</span><span class="p">(</span><span class="n">oldTransform</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="缩放变换效果" src="../J003.files/90.png" /></p>
</div>
<h5 id="334">3.3.4 组合变换</h5>
<p>这次我们看看如何进行组合变换，首先假定我们要完成这样一个绘制任务。</p>
<div class="admonition example">
<p class="admonition-title">绘制任务</p>
<p><img alt="绘制任务" src="../J003.files/task.png" /></p>
</div>
<p>也就是要把原来的矩形，原地放大2倍后，再逆时针旋转45度。</p>
<p>经过一番推导，可以得到如下的变换步骤。</p>
<ul>
<li>1.将矩形移动到原点(0,0)的位置
<img alt="Step1" src="../J003.files/step1.png" /></li>
<li>2.放大到2倍
<img alt="Step2" src="../J003.files/step2.png" /></li>
<li>3.平移回原来的位置
<img alt="Step3" src="../J003.files/step3.png" /></li>
<li>4.沿圆心逆时针旋转45度
<img alt="Step4" src="../J003.files/step4.png" /></li>
</ul>
<p>得到了这个步骤之后，我们在程序里面要把这个步骤给倒过来。也就是按照下面的代码：</p>
<div class="admonition example">
<p class="admonition-title">倒序执行变换步骤的代码</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">// 4.沿圆心逆时针旋转45度</span><span class="w"></span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">rotate</span><span class="p">(</span><span class="o">-</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">circleX</span><span class="p">,</span><span class="w"> </span><span class="n">circleY</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="c1">// 3.平移回原来的位置</span><span class="w"></span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">translate</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="c1">// 2.放大到2倍</span><span class="w"></span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c1">// 1.将矩形移动到原点(0,0)的位置</span><span class="w"></span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">translate</span><span class="p">(</span><span class="o">-</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<p>掌握了这个规律后，相信其它的任何复杂的绘制任务都不会是什么难事了。
这个任务完整的演示代码和效果如下：</p>
<div class="admonition example">
<p class="admonition-title">组合变换</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">Rectangle</span><span class="w"> </span><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">550</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;原来的图形&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">35</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">width</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">height</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="c1">// 取得当前变换矩阵</span><span class="w"></span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="kd">var</span><span class="w"> </span><span class="n">oldTransform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getTransform</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="c1">// 绘制旋转路径的圆</span><span class="w"></span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="kt">int</span><span class="w"> </span><span class="n">circleX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">300</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="kt">int</span><span class="w"> </span><span class="n">circleY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">300</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="kt">int</span><span class="w"> </span><span class="n">circleR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">250</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawOval</span><span class="p">(</span><span class="n">circleX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">circleR</span><span class="p">,</span><span class="w"> </span><span class="n">circleY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">circleR</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">circleR</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">circleR</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="kt">double</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2d</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="n">g2</span><span class="p">.</span><span class="na">setTransform</span><span class="p">(</span><span class="n">oldTransform</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="c1">// 4.沿圆心逆时针旋转45度</span><span class="w"></span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="n">g2</span><span class="p">.</span><span class="na">rotate</span><span class="p">(</span><span class="o">-</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">circleX</span><span class="p">,</span><span class="w"> </span><span class="n">circleY</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="c1">// 3.平移回原来的位置</span><span class="w"></span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="n">g2</span><span class="p">.</span><span class="na">translate</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="c1">// 2.放大到2倍</span><span class="w"></span>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="n">g2</span><span class="p">.</span><span class="na">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="c1">// 1.将矩形移动到原点(0,0)的位置</span><span class="w"></span>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="n">g2</span><span class="p">.</span><span class="na">translate</span><span class="p">(</span><span class="o">-</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;组合变换结果&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">35</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">width</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="na">height</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="组合变换效果" src="../J003.files/all.png" /></p>
</div>
<h4 id="34">3.4 渲染质量</h4>
<p>Graphics2D中提供了很多控制选项来控制图形绘制的质量。这些选项存放在一个叫做<code>renderingHint</code>的Map类型的属性中。</p>
<p>这个Map中的选项比较多，其中比较重要的选项有：</p>
<table>
<thead>
<tr>
<th align="left">选项ID</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">KEY_ALPHA_INTERPOLATION</td>
<td align="left">Alpha混合的插值算法</td>
</tr>
<tr>
<td align="left">KEY_ANTIALIASING</td>
<td align="left">抗锯齿</td>
</tr>
<tr>
<td align="left">KEY_COLOR_RENDERING</td>
<td align="left">色彩渲染</td>
</tr>
<tr>
<td align="left">KEY_DITHERING</td>
<td align="left">色彩精度</td>
</tr>
<tr>
<td align="left">KEY_INTERPOLATION</td>
<td align="left">插值算法</td>
</tr>
<tr>
<td align="left">KEY_RENDERING</td>
<td align="left">渲染质量</td>
</tr>
<tr>
<td align="left">KEY_TEXT_ANTIALIASING</td>
<td align="left">字体抗锯齿</td>
</tr>
</tbody>
</table>
<p>选项的值设定很简单，都是从<code>ON/OFF</code>或者从<code>质量/速度</code>里面二选一的。
这些选项的默认值都是在绘制质量与速度中比较平衡的。</p>
<p>如果是对绘制质量要求很高，则可以把所有的设置开到最高。
如果是对绘制速度有一定的要求，则可以酌情调整。</p>
<p>我在编写游戏时使用的配置是：</p>
<table>
<thead>
<tr>
<th align="left">选项ID</th>
<th align="left">含义</th>
<th align="left">选择的值</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">KEY_ALPHA_INTERPOLATION</td>
<td align="left">Alpha混合的插值算法</td>
<td align="left">默认值</td>
</tr>
<tr>
<td align="left">KEY_ANTIALIASING</td>
<td align="left">抗锯齿</td>
<td align="left">VALUE_ANTIALIAS_OFF</td>
</tr>
<tr>
<td align="left">KEY_COLOR_RENDERING</td>
<td align="left">色彩渲染</td>
<td align="left">VALUE_COLOR_RENDER_SPEED</td>
</tr>
<tr>
<td align="left">KEY_DITHERING</td>
<td align="left">色彩精度</td>
<td align="left">默认值</td>
</tr>
<tr>
<td align="left">KEY_INTERPOLATION</td>
<td align="left">插值算法</td>
<td align="left">VALUE_INTERPOLATION_BILINEAR</td>
</tr>
<tr>
<td align="left">KEY_RENDERING</td>
<td align="left">渲染质量</td>
<td align="left">VALUE_RENDER_SPEED</td>
</tr>
<tr>
<td align="left">KEY_TEXT_ANTIALIASING</td>
<td align="left">字体抗锯齿</td>
<td align="left">VALUE_TEXT_ANTIALIAS_ON</td>
</tr>
</tbody>
</table>
<p>下面演示一下默认质量和最高质量的效果：</p>
<table>
<thead>
<tr>
<th align="left">默认质量</th>
<th align="left">高质量</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><img alt="默认" src="../J003.files/default.png" /></td>
<td align="left"><img alt="高" src="../J003.files/high.png" /></td>
</tr>
<tr>
<td align="left"><img alt="默认" src="../J003.files/default2.png" /></td>
<td align="left"><img alt="高" src="../J003.files/high2.png" /></td>
</tr>
<tr>
<td align="left"><img alt="默认" src="../J003.files/default3.png" /></td>
<td align="left"><img alt="高" src="../J003.files/high3.png" /></td>
</tr>
</tbody>
</table>
<p>区别不算特别大，但是细看的话高质量确实是平滑无比。</p>
<h4 id="35">3.5 字体</h4>
<p>字体这一属性我们早已经使用过了，在Swing中用<code>Font</code>类来表示字体。
在<code>1.6.2 将字体文件嵌入程序内</code>这一篇文章中我们已经学习了加载字体和字体的一些简单用法。</p>
<p>这里我们来看一看更多用法。</p>
<p>首先是设置字体大小。看下面的代码：</p>
<div class="admonition example">
<p class="admonition-title">设置字体大小</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">.</span><span class="na">deriveFont</span><span class="p">(</span><span class="mf">32.0f</span><span class="p">));</span><span class="w"></span>
</code></pre></div>
</div>
<p>然后是字体的样式，就是粗体和斜体之类的。</p>
<div class="admonition example">
<p class="admonition-title">设置字体样式</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">// 设定字体样式和大小</span><span class="w"></span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">g2</span><span class="p">.</span><span class="na">getFont</span><span class="p">().</span><span class="na">deriveFont</span><span class="p">(</span><span class="n">Font</span><span class="p">.</span><span class="na">PLAIN</span><span class="p">,</span><span class="w"> </span><span class="mf">32.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;Font.PLAIN -&gt; Hello, 这是一个演示程序。&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">g2</span><span class="p">.</span><span class="na">getFont</span><span class="p">().</span><span class="na">deriveFont</span><span class="p">(</span><span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="p">,</span><span class="w"> </span><span class="mf">32.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;Font.BOLD -&gt; Hello, 这是一个演示程序。&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">250</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">g2</span><span class="p">.</span><span class="na">getFont</span><span class="p">().</span><span class="na">deriveFont</span><span class="p">(</span><span class="n">Font</span><span class="p">.</span><span class="na">ITALIC</span><span class="p">,</span><span class="w"> </span><span class="mf">32.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;Font.ITALIC -&gt; Hello, 这是一个演示程序。&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">g2</span><span class="p">.</span><span class="na">getFont</span><span class="p">().</span><span class="na">deriveFont</span><span class="p">(</span><span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Font</span><span class="p">.</span><span class="na">ITALIC</span><span class="p">,</span><span class="w"> </span><span class="mf">32.0f</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="s">&quot;Font.BOLD | Font.ITALIC -&gt; Hello, 这是一个演示程序。&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="字体样式效果" src="../J003.files/font_style.png" /></p>
</div>
<p>字体还有更多复杂的用法，比如字体布局、字体坐标变换等，这里就不再介绍了。</p>
<h3 id="4">4. 绘制</h3>
<p>Graphics2D提供了很多用于进行图形绘制的方法。主要用于绘制如下的图形对象：</p>
<ul>
<li>几何图形</li>
<li>文字</li>
<li>图片</li>
</ul>
<h4 id="41">4.1 几何图形</h4>
<p>几何图形包括了：直线、多边形、矩形、圆形。多边形用到的不多而且比较麻烦，这里就不多讨论了。</p>
<p>绘制方法非常简单，前面其实已经用过很多次了。这里直接用例子来演示一下：</p>
<div class="admonition example">
<p class="admonition-title">绘制几何图形</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">// 绘制直线</span><span class="w"></span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">800</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">700</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="c1">// 绘制矩形</span><span class="w"></span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="c1">// 绘制圆形</span><span class="w"></span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawOval</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawOval</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="几何图形" src="../J003.files/shape.png" /></p>
</div>
<h4 id="42">4.2 文字</h4>
<p>文字的绘制，我们前面已经多次提到过了。这里想补充说明的是文字的绘制位置问题。</p>
<p>Graphics2D提供的函数<code>drawString</code>在绘制的时候，y轴是按照文字基准线<code>baseLine</code>来指定的。
比如，我想在一个矩形框中绘制文字，但结果却是这样：</p>
<p><img alt="基准线" src="../J003.files/baseLine.png" /></p>
<p>要想方便的调整字体绘制的位置，只能自己调整了，Graphics2D中没有提供方便的绘制方法。
从图中可以看到，如果我们知道文字基准线在字体整体高度中的处于的位置，就是可以调的。</p>
<p>这个计算过程有点麻烦，我封装了一个函数用来在指定的左上角位置开始输出文字：</p>
<div class="admonition example">
<p class="admonition-title">从左上角开始输出文字</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">// 在指定位置绘制文字（左上角）</span><span class="w"></span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">drawStringLeftTop</span><span class="p">(</span><span class="n">Graphics2D</span><span class="w"> </span><span class="n">g2</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">fontSizePixel</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="c1">// 显示器的DPI通常为96，计算字体大小</span><span class="w"></span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">fontSize</span><span class="o">=</span><span class="w"> </span><span class="mf">72.0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fontSizePixel</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">96.0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="c1">// 保存当前字体</span><span class="w"></span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">    </span><span class="n">Font</span><span class="w"> </span><span class="n">oldFont</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getFont</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span><span class="c1">// 重新设定字体大小</span><span class="w"></span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">    </span><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">oldFont</span><span class="p">.</span><span class="na">deriveFont</span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="w"> </span><span class="n">fontSize</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">    </span><span class="c1">// 绘制表示范围的矩形框</span><span class="w"></span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">    </span><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w"> </span><span class="n">fontSizePixel</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">    </span><span class="n">Font</span><span class="w"> </span><span class="n">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getFont</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="w">    </span><span class="c1">// 获得文字渲染上下文</span><span class="w"></span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">ctx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getFontRenderContext</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">    </span><span class="c1">// 获得行高标尺</span><span class="w"></span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">lineMetries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">font</span><span class="p">.</span><span class="na">getLineMetrics</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">    </span><span class="c1">// 获得文字真实高度</span><span class="w"></span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">textHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lineMetries</span><span class="p">.</span><span class="na">getAscent</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">lineMetries</span><span class="p">.</span><span class="na">getDescent</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">    </span><span class="c1">// 平衡一下文字高度和显示位置的高度(计算出的文字高度可能比目标区域的高度略高)</span><span class="w"></span>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">newHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">fontSizePixel</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">textHeight</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">    </span><span class="c1">// 获得文字基准线位置</span><span class="w"></span>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">baseLine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">newHeight</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">lineMetries</span><span class="p">.</span><span class="na">getDescent</span><span class="p">());</span><span class="w"></span>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="w">    </span><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">baseLine</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="w">    </span><span class="c1">// 复原到原来的字体</span><span class="w"></span>
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="w">    </span><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">oldFont</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="文字位置" src="../J003.files/y.png" /></p>
</div>
<p>说完了y轴的位置，其实x轴的位置也容易遇到问题。通常我们是从目标位置的最左边开始绘制文字的，但是有时候我们需要居中绘制文字。这时我们如果知道文字绘制之后占据的宽度，就很容易计算了。</p>
<p>同样，我封装了一个函数用来计算这个过程。</p>
<div class="admonition example">
<p class="admonition-title">居中绘制文字</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1">// 水平居中绘制文字</span><span class="w"></span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">drawStringCenter</span><span class="p">(</span><span class="n">Graphics2D</span><span class="w"> </span><span class="n">g2</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">fontSizePixel</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="c1">// 假定DPI为96，计算字体大小</span><span class="w"></span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">fontSize</span><span class="o">=</span><span class="w"> </span><span class="mf">72.0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fontSizePixel</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">96.0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="c1">// 保存当前字体</span><span class="w"></span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">    </span><span class="n">Font</span><span class="w"> </span><span class="n">oldFont</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getFont</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="c1">// 重新设定字体大小</span><span class="w"></span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">    </span><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">oldFont</span><span class="p">.</span><span class="na">deriveFont</span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="w"> </span><span class="n">fontSize</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">    </span><span class="c1">// 绘制表示范围的矩形框</span><span class="w"></span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">    </span><span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="n">fontSizePixel</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">    </span><span class="n">Font</span><span class="w"> </span><span class="n">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getFont</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">    </span><span class="c1">// 获得文字渲染上下文</span><span class="w"></span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">ctx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g2</span><span class="p">.</span><span class="na">getFontRenderContext</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">    </span><span class="c1">// 获得行高标尺</span><span class="w"></span>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">lineMetries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">font</span><span class="p">.</span><span class="na">getLineMetrics</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a><span class="w">    </span><span class="c1">// 获得文字真实高度</span><span class="w"></span>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">textHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lineMetries</span><span class="p">.</span><span class="na">getAscent</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">lineMetries</span><span class="p">.</span><span class="na">getDescent</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="w">    </span><span class="c1">// 平衡一下文字高度和显示位置的高度(计算出的文字高度可能比目标区域的高度略高)</span><span class="w"></span>
<a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">newHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">fontSizePixel</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">textHeight</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="w">    </span><span class="c1">// 获得文字基准线位置</span><span class="w"></span>
<a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">baseLine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">newHeight</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">lineMetries</span><span class="p">.</span><span class="na">getDescent</span><span class="p">());</span><span class="w"></span>
<a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="w">    </span><span class="c1">// 计算文字渲染后的宽度</span><span class="w"></span>
<a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">textWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">font</span><span class="p">.</span><span class="na">getStringBounds</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="p">).</span><span class="na">getWidth</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="w">    </span><span class="n">g2</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">w</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">textWidth</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">baseLine</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a>
<a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a><span class="w">    </span><span class="c1">// 复原到原来的字体</span><span class="w"></span>
<a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a><span class="w">    </span><span class="n">g2</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">oldFont</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="居中绘制文字" src="../J003.files/x.png" /></p>
</div>
<h4 id="43">4.3 图片</h4>
<p>图片的绘制是非常常用的操作了，在绘制的过程中可以进行各种裁剪操作。并且根据源图片和目标区域的大小自动进行缩放。让我们直接看代码。</p>
<div class="admonition example">
<p class="admonition-title">绘制图片</p>
<p>代码:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">// 按目标区域进行缩放绘图</span><span class="w"></span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawImage</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="c1">// 只显示图片的一部分</span><span class="w"></span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawImage</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="w"> </span><span class="mi">520</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">520</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1200</span><span class="p">,</span><span class="w"> </span><span class="mi">1600</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="c1">// 水平反转贴图(使sx2 &lt; sx1)</span><span class="w"></span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawImage</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="w"> </span><span class="mi">520</span><span class="p">,</span><span class="w"> </span><span class="mi">320</span><span class="p">,</span><span class="w"> </span><span class="mi">520</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">320</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1200</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">1800</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="c1">// 垂直反转贴图(使sy2 &lt; sy1)</span><span class="w"></span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="n">g2</span><span class="p">.</span><span class="na">drawImage</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">img</span><span class="p">.</span><span class="na">getHeight</span><span class="p">(</span><span class="kc">null</span><span class="p">),</span><span class="w"> </span><span class="n">img</span><span class="p">.</span><span class="na">getWidth</span><span class="p">(</span><span class="kc">null</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>效果：</p>
<p><img alt="绘制图片" src="../J003.files/image.png" /></p>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="页脚" >
      
        
        <a href="../J002/" class="md-footer__link md-footer__link--prev" aria-label="上一页: b. 将字体文件嵌入程序内" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              b. 将字体文件嵌入程序内
            </div>
          </div>
        </a>
      
      
        
        <a href="../J004/" class="md-footer__link md-footer__link--next" aria-label="下一页: d. 正确的重绘窗口" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              d. 正确的重绘窗口
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.prune", "search.highlight", "header.autohide", "navigation.tabs"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
    
  </body>
</html>